@inject ILogger<MotorcycleShowroom.Models.BMW> Logger
@model MotorcycleShowroom.Models.BMW

<div class="overlay">
    <div class="container content-container">
        <div class="row">
            <div class="col-md-6">
                <dl class="row">
                    <dt class="col-sm-4">
                        Motorcycle:
                        @Model.Motorcycles
                    </dt>
                    <dd class="col-sm-8">
                        Description:
                        @Model.Info
                    </dd>
                </dl>
                <!-- White Back button -->
                <a href="javascript:history.back()" class="btn btn-white btn-wider btn-hover">Back</a>
            </div>
            <div class="col-md-6">
                @if (@Model.Images != null && @Model.Images.Any())
                {
                    <div class="image-container">
                        @foreach (var image in @Model.Images)
                        {
                            <img src="@Url.Action("GetImage", "Image", new { filePath = @image.FileName })" alt="Description of the image">
                        }
                    </div>
                }
                else
                {
                    <p>No images available for this BMW.</p>
                }
            </div>
        </div>
    </div>
</div>

<!-- Like button and heart icon moved back to their original location -->
<div class="like-heart-container">
    <button id="likeButton" class="btn-like btn-white">Like</button>
    <div class="heart-container">
        <span class="heart-icon">&hearts; <span id="countNumber" class="count-number">0</span></span>
    </div>
</div>

<style>
    /* Existing styles remain unchanged */

    .content-container {
        position: relative;
        z-index: 1001;
        padding-top: 56px;
        max-height: calc(100vh - 56px); /* Set max height to viewport height minus the top padding */
        overflow-y: auto; /* Enable vertical scrolling */
        scrollbar-width: none; /* Firefox */
        -ms-overflow-style: none; /* IE and Edge */
    }

        .content-container::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }

    .image-container {
        max-height: calc(100vh - 150px); /* Set max height for the image container to allow space for other elements */
        overflow-y: auto; /* Enable vertical scrolling */
        scrollbar-width: none; /* Firefox */
        -ms-overflow-style: none; /* IE and Edge */
        position: relative; /* Added relative positioning */
    }

        .image-container::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }

    .like-heart-container {
        position: absolute; /* Positioned absolutely to place it outside the image container */
        top: 20px; /* Adjust top position as needed */
        left: 20px; /* Adjust left position as needed */
        display: flex; /* Used flexbox for horizontal alignment */
        align-items: center; /* Center align items vertically */
    }

    .heart-container {
        margin-left: 10px;
        font-size: 28px; /* Increased font size for the heart */
        vertical-align: middle; /* Aligns the heart vertically with the like button */
    }

    .heart-icon {
        margin-left: 5px;
        color: white;
    }

    .btn-like.btn-black {
        background-color: black;
        color: white;
    }

    .liked {
        color: red;
    }
</style>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    $(document).ready(function () {
        var likeCount = 0;

        $('#likeButton').click(function () {
            $(this).toggleClass('btn-black');

            if ($(this).hasClass('btn-black')) {
                $(this).text('Liked');
                $('.heart-icon').addClass('liked').css('color', 'red');
                likeCount++;
            } else {
                $(this).text('Like');
                $('.heart-icon').removeClass('liked').css('color', 'white');
                likeCount--;
            }

            $('#countNumber').text(likeCount);
        }
    }
</script>
